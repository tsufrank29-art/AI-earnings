# 「AI讀法說」PRD

## 1. 產品簡介
「AI讀法說」為盤後研究投資人打造，以 AI 彙整近三個月台股法說會資訊，提供摘要、分析與收藏功能，降低資訊蒐集成本並提升研究效率。

## 2. 目標與成功指標
- **目標**：
  - 盤後即可快速瀏覽近三個月法說會名單，並以 AI 產出摘要與分析。
  - 透過收藏功能維繫回訪與追蹤需求。
- **MVP 成功指標**：
  - Feature Adoption Rate ≥ 20%（上線後第 3 個月）
  - 7-Day Feature Retention ≥ 40%
  - Follow Action CVR ≥ 20%

## 3. 目標用戶與價值
- **目標用戶**：重視基本面與消息面、具備自主研究能力的投資人。
- **價值主張**：
  - 盤後快速查看近期法說會清單並對照股價。
  - 針對個股取得 AI 生成的法說會摘要與分析，輔助評估合理股價區間與成長趨勢。
  - 收藏重要法說會，建立個人追蹤清單。

## 4. 使用情境 (User Journey)
1. 用戶開啟 App 進入「法說會列表」，看到近三個月有法說會的個股，並可搜尋特定代號/名稱。
2. 點擊卡片進入法說會內頁，查看個股資訊、法說會日期、AI 摘要、AI 分析與資料來源。
3. 點擊「加入關注」將個股法說會收藏；日後於「我關注的法說」列表快速回訪。

## 5. 功能範圍
- **導航列**：頂部分頁（法說會列表 / 我關注的法說），標題「AI讀法說」，紀錄 tab_click 事件。
- **法說會列表（Screen 01）**：
  - 近三個月法說會卡片（名稱、代號、日期），支援搜尋與排序。
  - 點擊卡片進入內頁。
  - 空態與捲動紀錄；搜尋 300 ms 內回傳。
  - 排程每日 02:00 UTC+8 更新資料。
- **法說會內頁（Screen 02）**：
  - 標題包含個股名稱/代號，日期。
  - 區塊：法說會摘要（200–300 字）、AI 分析（≤500 字，分段）、資料來源。
  - 收藏/取消收藏，0.3 秒內回饋；內容快取 30 分鐘。
  - 首次生成：抓取 Slides PDF + 新聞 → 建向量索引 → LLM 生成摘要/分析，靜態保存。
- **我關注的法說（Screen 03）**：
  - 顯示收藏的法說會卡片，預設近 6 個月，可載入更多。
  - 點擊回內頁；支援右滑取消（若有手勢）。

## 6. 用戶故事
- 身為投資人，我希望能搜尋近三個月有哪些個股開過法說會，方便盤後研究。
- 進入個股法說會內頁時，我希望看到 AI 彙整的摘要與分析，快速掌握重點。
- 我希望能收藏重要的法說會並隨時回訪。
- 我希望收藏/取消收藏能即時回饋，不影響研究節奏。

## 7. 需求詳述
### 7.1 功能需求
- 列表：GET /v1/earnings_calls 回傳近三個月資料，支援 q 搜尋與排序；空態提示。
- 內頁：固定內容，資料來源與生成時間紀錄；LLM 生成失敗則顯示「稍後再試」。
- 收藏：POST/DELETE /v1/users/{uid}/follow_earnings，禁止 ON DELETE CASCADE；熱門資料入 Redis。
- 歸檔：>18 個月標記 is_archived=1，但仍可顯示與收藏。

### 7.2 非功能需求
- 搜尋回應時間 ≤ 300 ms（前端體感）。
- 首次生成成功率 90% 需在 6 秒內；失敗時顯示提示。
- 列表 API 回傳後紀錄 list_impression，搜尋紀錄 search_used，卡片點擊 card_click，內頁 detail_view 等事件。

### 7.3 邊界條件與例外
- 公開資訊觀測站若無 Open API，需以 Server-Side Crawler 解析 HTML 寫入資料庫。
- 熱資料僅保留 90 天；舊資料搬冷層，收藏查詢需可 JOIN。
- 內容版本升級可透過 version 欄位重建。

## 8. 依賴與風險
- 依賴公開資訊觀測站網頁結構穩定；若變動需更新爬蟲。
- LLM 成本需控管，僅首次生成或版本升級時觸發。
- 搜尋體驗依賴 Elasticsearch/Lucene/LIKE，需確保索引與更新一致性。

## 9. 發佈里程碑
- M1：爬蟲＋資料庫 schema + 列表 API 雛形。
- M2：內頁生成與快取、收藏功能。
- M3：性能優化、追蹤事件、歸檔/冷熱層搬移作業。

